Q.) Problem Statement 1: Spring Boot MVC Application
Develop a Spring Boot MVC application for managing Library Book Management.
The application should:
Provide a form to add book details (Book ID, Book Name, Author, Price).
Store the data in a database using any one of the following: JDBC / Hibernate / JPA.
Display the list of all books.
Provide a feature to search book details by Book ID.
Use Controller, Service (optional), DAO/Repository, and Thymeleaf/JSP views.
Follow proper MVC architecture.
Solution:-
Using JPA:-
Structure:-
LibraryBookManagement/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/example/demo/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Book.java                    (Entity)
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BookRepository.java          (Repository)
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BookController.java          (Controller)
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ LibraryBookManagementApplication.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ addbook.html                 (Add Book Form)
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ books.html                   (Display All Books)
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ search.html                  (Search Book)
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ application.properties
‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îú‚îÄ‚îÄ pom.xml

Book.java:-
package com.example.demo;
import jakarta.persistence.Entity;
import jakarta.persistence.Id;
@Entity
public class Book {
    @Id
    private int bookId;
    private String bookName;
    private String author;
    private double price;
    public Book() {
    }
    public Book(int bookId, String bookName, String author, double price) {
        this.bookId = bookId;
        this.bookName = bookName;
        this.author = author;
        this.price = price;
    }
    public int getBookId() {
        return bookId;
    }
    public void setBookId(int bookId) {
        this.bookId = bookId;
    }
    public String getBookName() {
        return bookName;
    }
    public void setBookName(String bookName) {
        this.bookName = bookName;
    }
    public String getAuthor() {
        return author;
    }
    public void setAuthor(String author) {
        this.author = author;
    }
    public double getPrice() {
        return price;
    }
    public void setPrice(double price) {
        this.price = price;
    }
}

BookController.java:-
package com.example.demo;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.bind.annotation.ModelAttribute;
import java.util.Optional;
@Controller
public class BookController {
    private final BookRepository bookRepository;
    public BookController(BookRepository bookRepository) {
        this.bookRepository = bookRepository;
    }
    // Show the add book form
    @GetMapping("/addbook")
    public String showAddBookForm(Model model) {
        model.addAttribute("book", new Book());
        return "addbook";
    }
    // Add a new book
    @PostMapping("/addbook")
    public String addBook(@ModelAttribute Book book, Model model) {
        bookRepository.save(book);
        model.addAttribute("message", "Book added successfully!");
        model.addAttribute("books", bookRepository.findAll());
        return "books";
    }
    // Display all books
    @GetMapping("/books")
    public String showAllBooks(Model model) {
        model.addAttribute("books", bookRepository.findAll());
        return "books";
    }
    // Show search form
    @GetMapping("/search")
    public String showSearchForm() {
        return "search";
    }
    // Search book by ID
    @PostMapping("/search")
    public String searchBook(@RequestParam("bookId") int bookId, Model model) {
        Optional<Book> book = bookRepository.findById(bookId);    
        if (book.isPresent()) {
            model.addAttribute("book", book.get());
            model.addAttribute("found", true);
        } else {
            model.addAttribute("found", false);
            model.addAttribute("message", "Book with ID " + bookId + " not found!");
        }
         return "search";
    }
}

BookRepository.java:-
package com.example.demo;
import org.springframework.data.jpa.repository.JpaRepository;
public interface BookRepository extends JpaRepository<Book, Integer> {
}

LibraryBookManagementApplication.java = It would be inbuilt provided there it starts the project

addbook.html:-
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add Book</title>
</head>
<body>
<h2>Add Book</h2>
<a th:href="@{/books}">View All Books</a>
<br><br>
<form th:action="@{/addbook}" th:object="${book}" method="post">
    <label>Book ID:</label>
    <input type="number" th:field="*{bookId}" /><br><br>
    <label>Book Name:</label>
    <input type="text" th:field="*{bookName}" /><br><br>
    <label>Author:</label>
    <input type="text" th:field="*{author}" /><br><br>
    <label>Price:</label>
    <input type="number" step="0.01" th:field="*{price}" /><br><br>
    <button type="submit">Add Book</button>
</form>
</body>
</html>

books.html:-
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>All Books</title>
</head>
<body>
<h2>Library Book Management - All Books</h2>
<div class="nav-links">
    <a th:href="@{/addbook}">Add New Book</a>
    <a th:href="@{/search}">Search Book</a>
</div>
<div th:if="${message}">
    <p th:text="${message}"></p>
</div>
<table th:if="${books != null and !books.isEmpty()}">
    <tr>
        <th>Book ID</th>
        <th>Book Name</th>
        <th>Author</th>
        <th>Price</th>
    </tr>
    <tr th:each="b : ${books}">
        <td th:text="${b.bookId}"></td>
        <td th:text="${b.bookName}"></td>
        <td th:text="${b.author}"></td>
        <td th:text="'‚Çπ' + ${b.price}"></td>
    </tr>
</table>
<div th:if="${books == null or books.isEmpty()}">
    <p>No books available in the library.</p>
    <a th:href="@{/addbook}">Add your first book</a>
</div>
</body>
</html>

search.html:-
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Search Book</title>
</head>
<body>
<h2>Library Book Management - Search Book</h2>
<div class="nav-links">
    <a th:href="@{/addbook}">Add New Book</a>
    <a th:href="@{/books}">View All Books</a>
</div>
<div class="search-form">
    <form th:action="@{/search}" method="post">
        <label>Enter Book ID:</label>
        <input type="number" name="bookId" required />
        <button type="submit">Search</button>
    </form>
</div>
<div th:if="${found != null}">
    <div th:if="${found}">
        <h3>Book Found!</h3>
        <p>Book ID: <span th:text="${book.bookId}"></span></p>
        <p>Book Name: <span th:text="${book.bookName}"></span></p>
        <p>Author: <span th:text="${book.author}"></span></p>
        <p>Price: <span th:text="'‚Çπ' + ${book.price}"></span></p>
    </div>
    <div th:if="${!found}">
        <p th:text="${message}"></p>
    </div>
</div>
</body>
</html>

application.properties:-
spring.application.name=LibraryBookManagement
# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/library_db
spring.datasource.username=root
spring.datasource.password=satyamsp
# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
# Thymeleaf Configuration
spring.thymeleaf.cache=false

pom.xml:-
project xmlns="http://maven.apache.org/POM/4.0.0" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>4.0.1</version>
        <relativePath/> <!-- lookup parent from repository -->
    </parent>
    <groupId>com.example</groupId>
    <artifactId>LibraryBookManagement</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>LibraryBookManagement</name>
    <description>Spring Boot MVC application for Library Book Management</description>
    <properties>
        <java.version>17</java.version>
    </properties>
    <dependencies>
        <!-- Spring Boot Web MVC -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-webmvc</artifactId>
        </dependency>
        <!-- Spring Boot Data JPA -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-data-jpa</artifactId>
        </dependency>
        <!-- Thymeleaf Template Engine -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf</artifactId>
        </dependency>
        <!-- JDBC -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-jdbc</artifactId>
        </dependency>
        <!-- MySQL Driver -->
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <scope>runtime</scope>
        </dependency>
        <!-- Spring Boot DevTools (Optional - for hot reload) -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <scope>runtime</scope>
            <optional>true</optional>
        </dependency>
        <!-- Test Dependencies -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>
-------------------------------------------------------------------------------using jdbc------------------------------------------------------------------------------------------------
Spring Boot MVC application for Library Book Management using JDBC (JdbcTemplate)
Book.java:-
package com.example.demo;
public class Book {
    private int bookId;
    private String bookName;
    private String author;
    private double price;
    public Book() {
    }
    public Book(int bookId, String bookName, String author, double price) {
        this.bookId = bookId;
        this.bookName = bookName;
        this.author = author;
        this.price = price;
    }
    public int getBookId() {
        return bookId;
    }
    public void setBookId(int bookId) {
        this.bookId = bookId;
    }
    public String getBookName() {
        return bookName;
    }
    public void setBookName(String bookName) {
        this.bookName = bookName;
    }
    public String getAuthor() {
        return author;
    }
    public void setAuthor(String author) {
        this.author = author;
    }
    public double getPrice() {
        return price;
    }
    public void setPrice(double price) {
        this.price = price;
    }
    @Override
    public String toString() {
        return "Book [bookId=" + bookId + ", bookName=" + bookName + 
               ", author=" + author + ", price=" + price + "]";
    }
}

BookController.java:-
package com.example.demo;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;

import java.util.List;
@Controller
public class BookController {
    private final BookDAO bookDAO;
    public BookController(BookDAO bookDAO) {
        this.bookDAO = bookDAO;
    }
    // Show add book form
    @GetMapping("/addbook")
    public String showAddBookForm(Model model) {
        model.addAttribute("book", new Book());
        return "addbook";
    }
    // Add new book
    @PostMapping("/addbook")
    public String addBook(@ModelAttribute Book book, Model model) {
        bookDAO.save(book);
        model.addAttribute("message", "Book added successfully!");
        model.addAttribute("books", bookDAO.findAll());
        return "books";
    }
    // Display all books
    @GetMapping("/books")
    public String showAllBooks(Model model) {
        List<Book> books = bookDAO.findAll();
        model.addAttribute("books", books);
        return "books";
    }
    // Show search form
    @GetMapping("/search")
    public String showSearchForm() {
        return "search";
    }
    // Search book by ID
    @PostMapping("/search")
    public String searchBook(@RequestParam("bookId") int bookId, Model model) {
        Book book = bookDAO.findById(bookId);
        if (book != null) {
            model.addAttribute("book", book);
            model.addAttribute("found", true);
        } else {
            model.addAttribute("found", false);
            model.addAttribute("message", "Book with ID " + bookId + " not found!");
        }
        return "search";
    }
    // Home page - redirect to add book
    @GetMapping("/")
    public String home() {
        return "redirect:/addbook";
    }
}

addbook.html:-
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add Book</title>
</head>
<body>
<div class="container">
    <h2 style="text-align: center;">Library Book Management</h2>
    <h3 style="text-align: center; color: #666;">Add New Book</h3>
    <div class="nav-links">
        <a th:href="@{/books}">View All Books</a>
        <a th:href="@{/search}">Search Book</a>
    </div>
    <form th:action="@{/addbook}" th:object="${book}" method="post">
        <label>Book ID:</label>
        <input type="number" th:field="*{bookId}" required placeholder="Enter book ID" />
        <label>Book Name:</label>
        <input type="text" th:field="*{bookName}" required placeholder="Enter book name" />
        <label>Author:</label>
        <input type="text" th:field="*{author}" required placeholder="Enter author name" />
        <label>Price (‚Çπ):</label>
        <input type="number" step="0.01" th:field="*{price}" required placeholder="Enter price" />
        <button type="submit">Add Book</button>
    </form>
</div>
</body>
</html>
books.html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>All Books</title>
</head>
<body>
<div class="container">
    <h2>Library Book Management - All Books</h2>
    <div class="nav-links">
        <a th:href="@{/addbook}">Add New Book</a>
        <a th:href="@{/search}">Search Book</a>
    </div>
    <div th:if="${message}" class="message">
        <p th:text="${message}"></p>
    </div>
    <table th:if="${books != null and !books.isEmpty()}">
        <thead>
            <tr>
                <th>Book ID</th>
                <th>Book Name</th>
                <th>Author</th>
                <th>Price (‚Çπ)</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="book : ${books}">
                <td th:text="${book.bookId}"></td>
                <td th:text="${book.bookName}"></td>
                <td th:text="${book.author}"></td>
                <td th:text="${book.price}"></td>
            </tr>
        </tbody>
    </table>
    <div th:if="${books == null or books.isEmpty()}" class="no-books">
        <h3>No books available in the library</h3>
        <p>Start by adding your first book!</p>
        <a th:href="@{/addbook}">Add Book Now</a>
    </div>
</div>
</body>
</html>

search.html:-
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Search Book</title>
</head>
<body>
<div class="container">
    <h2>Library Book Management - Search Book</h2>
    <div class="nav-links">
        <a th:href="@{/addbook}">Add New Book</a>
        <a th:href="@{/books}">View All Books</a>
    </div>
    <div class="search-form">
        <form th:action="@{/search}" method="post">
            <label>Enter Book ID:</label>
            <input type="number" name="bookId" required placeholder="Enter book ID to search" />
            <button type="submit">Search Book</button>
        </form>
    </div>
    <!-- Display search results -->
    <div th:if="${found != null}">
        <div th:if="${found}" class="result">
            <h3>‚úì Book Found!</h3>
            <div class="book-details">
                <p><strong>Book ID:</strong> <span th:text="${book.bookId}"></span></p>
                <p><strong>Book Name:</strong> <span th:text="${book.bookName}"></span></p>
                <p><strong>Author:</strong> <span th:text="${book.author}"></span></p>
                <p><strong>Price:</strong> ‚Çπ<span th:text="${book.price}"></span></p>
            </div>
        </div>
        <div th:if="${!found}" class="error">
            <p th:text="${message}"></p>
        </div>
    </div>
</div>
</body>
</html>

application.properties:-
spring.application.name=LibraryBookManagement-JDBC
# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/library_db
spring.datasource.username=root
spring.datasource.password=satyamsp
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# Thymeleaf Configuration
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
# Server Configuration
server.port=8080

pom.xml:-
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>4.0.1</version>
        <relativePath/>
    </parent>
    <groupId>com.example</groupId>
    <artifactId>LibraryBookManagement-JDBC</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>LibraryBookManagement-JDBC</name>
    <description>Spring Boot MVC with JDBC for Library Book Management</description>
    <properties>
        <java.version>17</java.version>
    </properties>
    <dependencies>
        <!-- Spring Boot Web (MVC) -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-webmvc</artifactId>
        </dependency>
        <!-- Thymeleaf Template Engine -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf</artifactId>
        </dependency>
        <!-- Spring JDBC (JdbcTemplate) -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-jdbc</artifactId>
        </dependency>
        <!-- MySQL JDBC Driver -->
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <scope>runtime</scope>
        </dependency>
        <!-- Spring Boot DevTools (Optional - for hot reload) -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <scope>runtime</scope>
            <optional>true</optional>
        </dependency>
        <!-- Test Dependencies -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf-test</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-webmvc-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>

-----------------------------------------------------------------------------------using hibernate----------------------------------------------------------------------------------------
üìÅ Project Structure
LibraryBookManagement-Hibernate/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/example/demo/
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ LibraryBookManagementApplication.java
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Book.java
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ HibernateConfig.java
‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ BookDAO.java
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ BookController.java
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ addbook.html
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ books.html
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ search.html
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ application.properties
‚îÇ   ‚îî‚îÄ‚îÄ test/
‚îú‚îÄ‚îÄ pom.xml

Book.java:-
package com.example.demo;
import jakarta.persistence.Entity;
import jakarta.persistence.Id;
import jakarta.persistence.Table;
import jakarta.persistence.Column;
@Entity
@Table(name = "book")
public class Book {
    @Id
    @Column(name = "book_id")
    private int bookId;
    @Column(name = "book_name")
    private String bookName;
    @Column(name = "author")
    private String author;
    @Column(name = "price")
    private double price;
    
    public Book() {  
    }
    public Book(int bookId, String bookName, String author, double price) {
        this.bookId = bookId;
        this.bookName = bookName;
        this.author = author;
        this.price = price;
    }
    public int getBookId() {
        return bookId;
    }
    public void setBookId(int bookId) {
        this.bookId = bookId;
    }
    public String getBookName() {
        return bookName;
    }
    public void setBookName(String bookName) {
        this.bookName = bookName;
    }
    public String getAuthor() {
        return author;
    }
    public void setAuthor(String author) {
        this.author = author;
    }
    public double getPrice() {
        return price;
    }
    public void setPrice(double price) {
        this.price = price;
    }
    @Override
    public String toString() {
        return "Book [bookId=" + bookId + ", bookName=" + bookName + 
               ", author=" + author + ", price=" + price + "]";
    }
}

HibernateConfig.java:-
package com.example.demo;
import org.hibernate.SessionFactory;
import org.hibernate.boot.registry.StandardServiceRegistryBuilder;
import org.hibernate.cfg.Configuration;
import org.hibernate.cfg.Environment;
import org.hibernate.service.ServiceRegistry;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.context.annotation.Bean;
import java.util.Properties;
@org.springframework.context.annotation.Configuration
public class HibernateConfig {
    @Value("${spring.datasource.url}")
    private String dbUrl;
    @Value("${spring.datasource.username}")
    private String dbUsername;
    @Value("${spring.datasource.password}")
    private String dbPassword;
    @Bean
    public SessionFactory sessionFactory() {
        Configuration configuration = new Configuration();
        // Hibernate settings
        Properties properties = new Properties();
        properties.put(Environment.DRIVER, "com.mysql.cj.jdbc.Driver");
        properties.put(Environment.URL, dbUrl);
        properties.put(Environment.USER, dbUsername);
        properties.put(Environment.PASS, dbPassword);
        properties.put(Environment.DIALECT, "org.hibernate.dialect.MySQLDialect");
        properties.put(Environment.SHOW_SQL, "true");
        properties.put(Environment.FORMAT_SQL, "true");
        properties.put(Environment.HBM2DDL_AUTO, "update");
        properties.put(Environment.CURRENT_SESSION_CONTEXT_CLASS, "thread");
        configuration.setProperties(properties);
        // Add annotated entity class
        configuration.addAnnotatedClass(Book.class);
        ServiceRegistry serviceRegistry = new StandardServiceRegistryBuilder()
                .applySettings(configuration.getProperties())
                .build();
        return configuration.buildSessionFactory(serviceRegistry);
    }
}

BookDAO.java:-
package com.example.demo;
import java.util.List;
import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.Transaction;
import org.hibernate.query.Query;
import org.springframework.stereotype.Repository;
@Repository
public class BookDAO {
    private final SessionFactory sessionFactory;
    public BookDAO(SessionFactory sessionFactory) {
        this.sessionFactory = sessionFactory;
    }
    // Save book to database
    public void save(Book book) {
        Transaction transaction = null;
        try (Session session = sessionFactory.openSession()) {
            transaction = session.beginTransaction();
            session.save(book);
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            e.printStackTrace();
        }
    }
    // Get all books from database
    public List<Book> findAll() {
        try (Session session = sessionFactory.openSession()) {
            Query<Book> query = session.createQuery("FROM Book", Book.class);
            return query.list();
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }
    // Find book by ID
    public Book findById(int bookId) {
        try (Session session = sessionFactory.openSession()) {
            return session.get(Book.class, bookId);
        } catch (Exception e) {
            e.printStackTrace();
            return null;
        }
    }
    // Update book
    public void update(Book book) {
        Transaction transaction = null;
        try (Session session = sessionFactory.openSession()) {
            transaction = session.beginTransaction();
            session.update(book);
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            e.printStackTrace();
        }
    }
    // Delete book by ID
    public void deleteById(int bookId) {
        Transaction transaction = null;
        try (Session session = sessionFactory.openSession()) {
            transaction = session.beginTransaction();
            Book book = session.get(Book.class, bookId);
            if (book != null) {
                session.delete(book);
            }
            transaction.commit();
        } catch (Exception e) {
            if (transaction != null) {
                transaction.rollback();
            }
            e.printStackTrace();
        }
    }
}
BookController.java:-
package com.example.demo;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.ModelAttribute;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestParam;
import java.util.List;
@Controller
public class BookController {
    private final BookDAO bookDAO;
    public BookController(BookDAO bookDAO) {
        this.bookDAO = bookDAO;
    }
    // Show add book form
    @GetMapping("/addbook")
    public String showAddBookForm(Model model) {
        model.addAttribute("book", new Book());
        return "addbook";
    }
    // Add new book
    @PostMapping("/addbook")
    public String addBook(@ModelAttribute Book book, Model model) {
        bookDAO.save(book);
        model.addAttribute("message", "Book added successfully!");
        model.addAttribute("books", bookDAO.findAll());
        return "books";
    }
    // Display all books
    @GetMapping("/books")
    public String showAllBooks(Model model) {
        List<Book> books = bookDAO.findAll();
        model.addAttribute("books", books);
        return "books";
    }
    // Show search form
    @GetMapping("/search")
    public String showSearchForm() {
        return "search";
    }
    // Search book by ID
    @PostMapping("/search")
    public String searchBook(@RequestParam("bookId") int bookId, Model model) {
        Book book = bookDAO.findById(bookId);
        if (book != null) {
            model.addAttribute("book", book);
            model.addAttribute("found", true);
        } else {
            model.addAttribute("found", false);
            model.addAttribute("message", "Book with ID " + bookId + " not found!");
        }
        return "search";
    }
    // Home page - redirect to add book
    @GetMapping("/")
    public String home() {
        return "redirect:/addbook";
    }
}


addbook.html:-
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Add Book</title>
</head>
<body>
<div class="container">
    <h2 style="text-align: center;">Library Book Management</h2>
    <h3 style="text-align: center; color: #666;">Add New Book</h3>
    <div class="nav-links">
        <a th:href="@{/books}">View All Books</a>
        <a th:href="@{/search}">Search Book</a>
    </div>
    <form th:action="@{/addbook}" th:object="${book}" method="post">
        <label>Book ID:</label>
        <input type="number" th:field="*{bookId}" required placeholder="Enter book ID" />
        <label>Book Name:</label>
        <input type="text" th:field="*{bookName}" required placeholder="Enter book name" />
        <label>Author:</label>
        <input type="text" th:field="*{author}" required placeholder="Enter author name" />
        <label>Price (‚Çπ):</label>
        <input type="number" step="0.01" th:field="*{price}" required placeholder="Enter price" />
        <button type="submit">Add Book</button>
    </form>
</div>
</body>
</html>

books.html:-
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>All Books</title>
</head>
<body>
<div class="container">
    <h2>Library Book Management - All Books</h2>
    <div class="nav-links">
        <a th:href="@{/addbook}">Add New Book</a>
        <a th:href="@{/search}">Search Book</a>
    </div>
    <div th:if="${message}" class="message">
        <p th:text="${message}"></p>
    </div>
    <table th:if="${books != null and !books.isEmpty()}">
        <thead>
            <tr>
                <th>Book ID</th>
                <th>Book Name</th>
                <th>Author</th>
                <th>Price (‚Çπ)</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="book : ${books}">
                <td th:text="${book.bookId}"></td>
                <td th:text="${book.bookName}"></td>
                <td th:text="${book.author}"></td>
                <td th:text="${book.price}"></td>
            </tr>
        </tbody>
    </table>
    <div th:if="${books == null or books.isEmpty()}" class="no-books">
        <h3>No books available in the library</h3>
        <p>Start by adding your first book!</p>
        <a th:href="@{/addbook}">Add Book Now</a>
    </div>
</div>
</body>
</html>

search.html:-
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Search Book</title>
</head>
<body>
<div class="container">
    <h2>Library Book Management - Search Book</h2>
    <div class="nav-links">
        <a th:href="@{/addbook}">Add New Book</a>
        <a th:href="@{/books}">View All Books</a>
    </div>
    <div class="search-form">
        <form th:action="@{/search}" method="post">
            <label>Enter Book ID:</label>
            <input type="number" name="bookId" required placeholder="Enter book ID to search" />
            <button type="submit">Search Book</button>
        </form>
    </div>
    <!-- Display search results -->
    <div th:if="${found != null}">
        <div th:if="${found}" class="result">
            <h3>‚úì Book Found!</h3>
            <div class="book-details">
                <p><strong>Book ID:</strong> <span th:text="${book.bookId}"></span></p>
                <p><strong>Book Name:</strong> <span th:text="${book.bookName}"></span></p>
                <p><strong>Author:</strong> <span th:text="${book.author}"></span></p>
                <p><strong>Price:</strong> ‚Çπ<span th:text="${book.price}"></span></p>
            </div>
        </div>
        <div th:if="${!found}" class="error">
            <p th:text="${message}"></p>
        </div>
    </div>
</div>
</body>
</html>

application.properties:-
spring.application.name=LibraryBookManagement-Hibernate
# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/library_db
spring.datasource.username=root
spring.datasource.password=satyamsp
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# Thymeleaf Configuration
spring.thymeleaf.cache=false
spring.thymeleaf.prefix=classpath:/templates/
spring.thymeleaf.suffix=.html
# Server Configuration
server.port=8080
pom.xml:-
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" 
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
         https://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-parent</artifactId>
        <version>4.0.1</version>
        <relativePath/>
    </parent>
    <groupId>com.example</groupId>
    <artifactId>LibraryBookManagement-Hibernate</artifactId>
    <version>0.0.1-SNAPSHOT</version>
    <name>LibraryBookManagement-Hibernate</name>
    <description>Spring Boot MVC with Pure Hibernate for Library Book Management</description>
    <properties>
        <java.version>17</java.version>
    </properties>
    <dependencies>
        <!-- Spring Boot Web (MVC) -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-web</artifactId>
        </dependency>
        <!-- Thymeleaf Template Engine -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf</artifactId>
        </dependency>
        <!-- Hibernate Core (Pure Hibernate without Spring Data JPA) -->
        <dependency>
            <groupId>org.hibernate.orm</groupId>
            <artifactId>hibernate-core</artifactId>
            <version>6.3.1.Final</version>
        </dependency>
        <!-- MySQL JDBC Driver -->
        <dependency>
            <groupId>com.mysql</groupId>
            <artifactId>mysql-connector-j</artifactId>
            <scope>runtime</scope>
        </dependency>
        <!-- HikariCP Connection Pool -->
        <dependency>
            <groupId>com.zaxxer</groupId>
            <artifactId>HikariCP</artifactId>
        </dependency>
        <!-- Spring Boot DevTools (Optional - for hot reload) -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-devtools</artifactId>
            <scope>runtime</scope>
            <optional>true</optional>
        </dependency>
        <!-- Test Dependencies -->
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-test</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-thymeleaf-test</artifactId>
            <scope>test</scope>
        </dependency>
        <dependency>
            <groupId>org.springframework.boot</groupId>
            <artifactId>spring-boot-starter-webmvc-test</artifactId>
            <scope>test</scope>
        </dependency>
    </dependencies>
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
            </plugin>
        </plugins>
    </build>
</project>


----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Difference between using jpa,jdbc,hybernate:-
Feature	JDBC       JDBC         	    Hibernate	          Spring Data JPA
Configuration	   JdbcTemplate   	    SessionFactory	      EntityManager
Entity Class	   Plain POJO	        POJO + annotations	  POJO + annotations
DAO/Repository	   BookDAO class	    DAO with Session	  JpaRepository interface
SQL Queries	Manual SQL	                HQL or manual SQL	  Auto-generated
Mapping            RowMapper	        Automatic	          Automatic
CRUD Code	       Full implementation	Full implementation	  Just interface
Learning Curve	   Easy             	Medium	              Easy
Performance	       Fast	                Medium	              Medium
Control	           High	                Medium	              Low
Boilerplate	       High	                Medium	              Low



